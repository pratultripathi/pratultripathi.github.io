<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Backend Tech Concepts — Connected Cards (Click to Expand)</title>
  <style>
    :root{
      --bg:#0b1220;
      --panel:#101a33;
      --card:#111b34;
      --card2:#0e1730;
      --text:#e8eefc;
      --muted:#a9b7d9;
      --line:#6fa8ff;
      --accent:#7cf1c7;
      --warn:#ffdd6f;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius:16px;
      --gap:12px;
      --max:1200px;
      --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    }

    body{
      margin:0;
      font-family: var(--font);
      background: radial-gradient(1200px 700px at 20% 10%, #13224d 0%, transparent 60%),
                  radial-gradient(900px 600px at 85% 20%, #1a3c64 0%, transparent 55%),
                  var(--bg);
      color: var(--text);
    }

    header{
      max-width: var(--max);
      margin: 22px auto 10px;
      padding: 0 16px;
    }
    h1{ margin:0; font-size: 20px; letter-spacing: .2px; }
    .sub{
      margin:6px 0 0;
      color: var(--muted);
      font-size: 12.5px;
      line-height: 1.35;
    }

    .wrap{
      max-width: var(--max);
      margin: 12px auto 28px;
      padding: 0 16px 24px;
    }

    .board{
      position: relative;
      background: rgba(16,26,51,.55);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 20px;
      box-shadow: var(--shadow);
      padding: 14px;
      overflow: hidden;
    }

    /* two-lane layout for a clear "connected as they should be" flow */
    .grid{
      position: relative;
      display: grid;
      grid-template-columns: 1.12fr .88fr;
      gap: 14px;
      min-height: 620px;
    }

    .col, .lane{
      display: grid;
      gap: var(--gap);
      align-content: start;
    }

    /* SMALLER cards */
    .card{
      position: relative;
      background: linear-gradient(180deg, rgba(17,27,52,.95), rgba(14,23,48,.85));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: 0 8px 16px rgba(0,0,0,.22);
      padding: 10px 11px 9px;
      cursor: pointer;
      user-select: none;
      transition: transform .12s ease, border-color .12s ease, box-shadow .12s ease;
      z-index: 2;
    }
    .card:hover{
      transform: translateY(-1px);
      border-color: rgba(124,241,199,.30);
      box-shadow: 0 10px 20px rgba(0,0,0,.25);
    }
    .card:focus{
      outline: 2px solid rgba(111,168,255,.55);
      outline-offset: 2px;
    }

    .head{
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 4px;
    }

    .title{
      display:flex;
      align-items:center;
      gap: 8px;
      font-weight: 750;
      font-size: 13.5px;
      letter-spacing: .15px;
      line-height: 1.15;
      margin: 0;
    }

    .badge{
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.10);
      background: rgba(124,241,199,.10);
      color: var(--accent);
      white-space: nowrap;
    }

    .chev{
      width: 24px; height: 24px;
      border-radius: 10px;
      display:flex;
      align-items:center;
      justify-content:center;
      color: var(--muted);
      border: 1px solid rgba(255,255,255,.08);
      background: rgba(255,255,255,.04);
      transition: transform .18s ease, color .18s ease, background .18s ease;
      flex: 0 0 auto;
    }

    .one{
      color: var(--muted);
      font-size: 12.3px;
      line-height: 1.25;
      margin: 0;
    }

    /* details collapsible area */
    .details{
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      transition: max-height .22s ease, opacity .18s ease, margin-top .18s ease;
      margin-top: 0;
    }

    .details p, .details ul{
      color: var(--muted);
      font-size: 12.5px;
      line-height: 1.35;
      margin: 8px 0 0;
    }
    .details ul{ margin-left: 16px; padding: 0; }
    .details li{ margin: 4px 0; }

    .mem{
      display:inline-block;
      margin-top: 8px;
      padding: 7px 9px;
      border-radius: 12px;
      background: rgba(111,168,255,.10);
      border: 1px solid rgba(111,168,255,.20);
      color: rgba(232,238,252,.92);
      font-size: 12.2px;
    }
    .mem b{ color: var(--warn); font-weight: 750; }

    /* expanded state */
    .card[aria-expanded="true"]{
      border-color: rgba(111,168,255,.50);
      box-shadow: 0 12px 26px rgba(0,0,0,.28);
      z-index: 5;
    }
    .card[aria-expanded="true"] .details{
      max-height: 420px; /* big enough for our content */
      opacity: 1;
      margin-top: 6px;
    }
    .card[aria-expanded="true"] .chev{
      transform: rotate(180deg);
      color: var(--text);
      background: rgba(124,241,199,.08);
      border-color: rgba(124,241,199,.25);
    }

    /* anchors for lines */
    .anchor{
      position:absolute;
      width: 9px; height: 9px;
      border-radius: 999px;
      background: rgba(111,168,255,.95);
      box-shadow: 0 0 0 6px rgba(111,168,255,.12);
      top: 50%;
      transform: translateY(-50%);
      z-index: 6;
      pointer-events: none;
    }
    .anchor.out{ right: -6px; }
    .anchor.in{
      left: -6px;
      background: rgba(124,241,199,.95);
      box-shadow: 0 0 0 6px rgba(124,241,199,.12);
    }

    /* SVG wires */
    svg#wires{
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .legend{
      display:flex;
      flex-wrap: wrap;
      gap:10px;
      margin-top: 10px;
      color: var(--muted);
      font-size: 12px;
      opacity: .95;
    }
    .dot{
      display:inline-block;
      width:9px; height:9px; border-radius:999px;
      margin-right:6px;
      vertical-align: middle;
    }
    .dot.blue{ background: rgba(111,168,255,.95); box-shadow: 0 0 0 5px rgba(111,168,255,.14); }
    .dot.green{ background: rgba(124,241,199,.95); box-shadow: 0 0 0 5px rgba(124,241,199,.14); }

    @media (max-width: 980px){
      .grid{ grid-template-columns: 1fr; }
      .board{ padding: 12px; }
      .anchor.out{ right: 10px; }
      .anchor.in{ left: 10px; }
      /* on mobile, wires are less useful; keep but it will redraw */
    }
  </style>
</head>

<body>
  <header>
    <h1>Backend Tech Concepts — Connected Cards</h1>
    <p class="sub">
      Click any card to expand details. Cards are connected in the right order:
      <b>CDN → API Gateway → Load Balancer → Reverse Proxy → Web Server → Compute → Cache/Queue/Object Storage/Scheduler</b>
    </p>
  </header>

  <div class="wrap">
    <div class="board" id="board">
      <svg id="wires"></svg>

      <div class="grid" id="grid">
        <!-- LEFT FLOW -->
        <div class="col" id="left">
          <div class="card" id="cdn" role="button" tabindex="0" aria-expanded="false">
            <div class="anchor out"></div>
            <div class="head">
              <p class="title">CDN (Cloudflare / Akamai) <span class="badge">Edge speed</span></p>
              <span class="chev">⌄</span>
            </div>
            <p class="one">Static content close to users → faster load.</p>
            <div class="details">
              <p><b>Used when:</b> users are global, lots of images/JS/CSS, you want fast experience.</p>
              <ul>
                <li>Caches assets near users</li>
                <li>Reduces backend traffic and cost</li>
              </ul>
              <span class="mem"><b>Memory:</b> “CDN brings content closer to users for speed.”</span>
            </div>
          </div>

          <div class="card" id="apigw" role="button" tabindex="0" aria-expanded="false">
            <div class="anchor in"></div>
            <div class="anchor out"></div>
            <div class="head">
              <p class="title">API Gateway <span class="badge">Front door</span></p>
              <span class="chev">⌄</span>
            </div>
            <p class="one">One entry point → route + secure + monitor APIs.</p>
            <div class="details">
              <p><b>Used when:</b> you have many services and want a single controlled entry.</p>
              <ul>
                <li>Auth / rate limiting / routing / analytics</li>
                <li>Best friend of microservices</li>
              </ul>
              <span class="mem"><b>Memory:</b> “Gateway controls and protects incoming API traffic.”</span>
            </div>
          </div>

          <div class="card" id="lb" role="button" tabindex="0" aria-expanded="false">
            <div class="anchor in"></div>
            <div class="anchor out"></div>
            <div class="head">
              <p class="title">Load Balancer <span class="badge">Traffic split</span></p>
              <span class="chev">⌄</span>
            </div>
            <p class="one">Distribute traffic across servers → scale + availability.</p>
            <div class="details">
              <p><b>Used when:</b> multiple instances exist and you want fault tolerance.</p>
              <ul>
                <li>Even traffic distribution</li>
                <li>Health checks + failover</li>
              </ul>
              <span class="mem"><b>Memory:</b> “LB divides load so no single server dies.”</span>
            </div>
          </div>

          <div class="card" id="rp" role="button" tabindex="0" aria-expanded="false">
            <div class="anchor in"></div>
            <div class="anchor out"></div>
            <div class="head">
              <p class="title">Reverse Proxy <span class="badge">Smart middle</span></p>
              <span class="chev">⌄</span>
            </div>
            <p class="one">Forwards requests + adds SSL/caching/compression.</p>
            <div class="details">
              <p><b>Used when:</b> you want a “front shield” for backends.</p>
              <ul>
                <li>SSL termination</li>
                <li>Caching / compression</li>
                <li>Hides backend topology</li>
              </ul>
              <span class="mem"><b>Memory:</b> “Reverse proxy stands in front and forwards smartly.”</span>
            </div>
          </div>

          <div class="card" id="webserver" role="button" tabindex="0" aria-expanded="false">
            <div class="anchor in"></div>
            <div class="anchor out"></div>
            <div class="head">
              <p class="title">Web Server (Nginx / Apache) <span class="badge">HTTP</span></p>
              <span class="chev">⌄</span>
            </div>
            <p class="one">Handles HTTP, serves static content, can proxy too.</p>
            <div class="details">
              <p><b>Used when:</b> you need an HTTP engine or static delivery.</p>
              <ul>
                <li>Serves requests</li>
                <li>Often doubles as reverse proxy</li>
              </ul>
              <span class="mem"><b>Memory:</b> “Web server handles HTTP requests and serves content.”</span>
            </div>
          </div>
        </div>

        <!-- RIGHT SIDE: Compute + supporting building blocks -->
        <div class="lane" id="right">
          <div class="card" id="compute" role="button" tabindex="0" aria-expanded="false">
            <div class="anchor in"></div>
            <div class="anchor out"></div>
            <div class="head">
              <p class="title">Compute Layer <span class="badge">Runs code</span></p>
              <span class="chev">⌄</span>
            </div>
            <p class="one">Where your services run: Kubernetes or Serverless.</p>
            <div class="details">
              <p><b>Options:</b></p>
              <ul>
                <li><b>Serverless (AWS Lambda)</b>: run code without managing servers (great for event/low-medium traffic).</li>
                <li><b>Kubernetes</b>: manage containers at scale (autoscale + self-heal + resilience).</li>
              </ul>
              <span class="mem"><b>Memory:</b> “Compute = where business logic runs.”</span>
            </div>
          </div>

          <div class="card" id="cache" role="button" tabindex="0" aria-expanded="false">
            <div class="anchor in"></div>
            <div class="head">
              <p class="title">Cache (Redis / Memcached) <span class="badge">Speed</span></p>
              <span class="chev">⌄</span>
            </div>
            <p class="one">Hot data in memory → faster responses.</p>
            <div class="details">
              <p><b>Used when:</b> repeated reads, want millisecond latency.</p>
              <ul>
                <li>Reduces DB load</li>
                <li>Great for session/token/data lookups</li>
              </ul>
              <span class="mem"><b>Memory:</b> “Cache keeps hot data in memory to make systems fast.”</span>
            </div>
          </div>

          <div class="card" id="mq" role="button" tabindex="0" aria-expanded="false">
            <div class="anchor in"></div>
            <div class="head">
              <p class="title">Message Queue (Kafka / RabbitMQ) <span class="badge">Async</span></p>
              <span class="chev">⌄</span>
            </div>
            <p class="one">Decouple services → reliable async processing.</p>
            <div class="details">
              <p><b>Used when:</b> you don’t want service A blocked by service B.</p>
              <ul>
                <li>Buffers spikes (“shock absorber”)</li>
                <li>Enables event-driven systems</li>
              </ul>
              <span class="mem"><b>Memory:</b> “Queue decouples services and enables async communication.”</span>
            </div>
          </div>

          <div class="card" id="objectstore" role="button" tabindex="0" aria-expanded="false">
            <div class="anchor in"></div>
            <div class="head">
              <p class="title">Object Storage (S3 / MinIO) <span class="badge">Files</span></p>
              <span class="chev">⌄</span>
            </div>
            <p class="one">Warehouse for big files (images, videos, backups).</p>
            <div class="details">
              <p><b>Used for:</b> large unstructured files; cheap and durable storage.</p>
              <ul>
                <li>Images / videos / PDFs</li>
                <li>Backups and archives</li>
              </ul>
              <span class="mem"><b>Memory:</b> “Object storage keeps large unstructured files cheaply and safely.”</span>
            </div>
          </div>

          <div class="card" id="scheduler" role="button" tabindex="0" aria-expanded="false">
            <div class="anchor in"></div>
            <div class="head">
              <p class="title">Job Scheduler (Celery / Quartz / Cron) <span class="badge">Background</span></p>
              <span class="chev">⌄</span>
            </div>
            <p class="one">Runs background tasks and scheduled jobs.</p>
            <div class="details">
              <p><b>Used for:</b> jobs that should not block user requests.</p>
              <ul>
                <li>Emails, reports, cleanup, nightly processing</li>
                <li>Retryable background workflows</li>
              </ul>
              <span class="mem"><b>Memory:</b> “Scheduler runs timed/background work.”</span>
            </div>
          </div>

          <div class="legend">
            <span><span class="dot blue"></span>Flow direction</span>
            <span><span class="dot green"></span>Next component</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // -------- Expand / collapse behavior ----------
    function toggleCard(card, force){
      const expanded = card.getAttribute("aria-expanded") === "true";
      const next = (force !== undefined) ? force : !expanded;

      // Close others (accordion behavior)
      document.querySelectorAll(".card[aria-expanded='true']").forEach(c => {
        if (c !== card) c.setAttribute("aria-expanded", "false");
      });

      card.setAttribute("aria-expanded", String(next));
      requestAnimationFrame(drawWires); // redraw because heights changed
    }

    document.querySelectorAll(".card").forEach(card => {
      card.addEventListener("click", () => toggleCard(card));
      card.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          toggleCard(card);
        }
        if (e.key === "Escape") {
          toggleCard(card, false);
        }
      });
    });

    // -------- Wires (connections) ----------
    const edges = [
      ["cdn", "apigw"],
      ["apigw", "lb"],
      ["lb", "rp"],
      ["rp", "webserver"],
      ["webserver", "compute"],
      ["compute", "cache"],
      ["compute", "mq"],
      ["compute", "objectstore"],
      ["compute", "scheduler"]
    ];

    const svg = document.getElementById("wires");
    const board = document.getElementById("board");

    function getAnchor(el, which){
      const a = el.querySelector(`.anchor.${which}`);
      return a || el.querySelector(".anchor");
    }

    function ptInBoard(el){
      const r = el.getBoundingClientRect();
      const b = board.getBoundingClientRect();
      return {
        x: (r.left - b.left) + r.width/2,
        y: (r.top - b.top) + r.height/2
      };
    }

    function drawWires(){
      while(svg.firstChild) svg.removeChild(svg.firstChild);

      const b = board.getBoundingClientRect();
      svg.setAttribute("viewBox", `0 0 ${b.width} ${b.height}`);

      edges.forEach(([fromId, toId]) => {
        const from = document.getElementById(fromId);
        const to = document.getElementById(toId);
        if(!from || !to) return;

        const aOut = getAnchor(from, "out");
        const aIn  = getAnchor(to, "in");
        if(!aOut || !aIn) return;

        const p1 = ptInBoard(aOut);
        const p2 = ptInBoard(aIn);

        const dx = Math.max(70, Math.abs(p2.x - p1.x) * 0.45);
        const c1 = { x: p1.x + dx, y: p1.y };
        const c2 = { x: p2.x - dx, y: p2.y };

        const path = document.createElementNS("http://www.w3.org/2000/svg", "path");
        path.setAttribute("d", `M ${p1.x} ${p1.y} C ${c1.x} ${c1.y}, ${c2.x} ${c2.y}, ${p2.x} ${p2.y}`);
        path.setAttribute("fill", "none");
        path.setAttribute("stroke", "rgba(111,168,255,.68)");
        path.setAttribute("stroke-width", "2.1");
        path.setAttribute("stroke-linecap", "round");
        svg.appendChild(path);

        // Arrow head at end
        const ang = Math.atan2(p2.y - c2.y, p2.x - c2.x);
        const size = 8;
        const ax = p2.x, ay = p2.y;
        const pA = { x: ax - size*Math.cos(ang) + (size*0.6)*Math.sin(ang), y: ay - size*Math.sin(ang) - (size*0.6)*Math.cos(ang) };
        const pB = { x: ax - size*Math.cos(ang) - (size*0.6)*Math.sin(ang), y: ay - size*Math.sin(ang) + (size*0.6)*Math.cos(ang) };

        const arrow = document.createElementNS("http://www.w3.org/2000/svg", "path");
        arrow.setAttribute("d", `M ${ax} ${ay} L ${pA.x} ${pA.y} L ${pB.x} ${pB.y} Z`);
        arrow.setAttribute("fill", "rgba(124,241,199,.90)");
        svg.appendChild(arrow);
      });
    }

    // redraw on resize/scroll and after expansions
    window.addEventListener("resize", drawWires, { passive:true });
    window.addEventListener("scroll", drawWires, { passive:true });
    setTimeout(drawWires, 60);
  </script>
</body>
</html>
